<app-vertical-splitter initialPosition="300">
    <app-vertical left>
        <app-vertical-header>
            <app-brand></app-brand>
        </app-vertical-header>
        <app-vertical-body>
            <app-repository-sidebar 
                [repository]="repository"></app-repository-sidebar>
        </app-vertical-body>
    </app-vertical>
    <div class="w-100 h-100" right>
        <app-logs *ngIf="repository.preferences.view == 'logs'" [repository]="repository"></app-logs>
        <app-commit *ngIf="repository.preferences.view == 'workingCopy'" [repository]="repository"></app-commit>
    </div>
</app-vertical-splitter>

<div
    [style.display]="logs.length != 0 ? 'block' : null" 
    class="modal" tabindex="-1" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Log</h5>
                <button (click)="hideModal()"  type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" style="height: 300px">
                <pre style="height: 100%; overflow: auto;">
                    <div *ngFor="let log of logs">{{log.command}}<br/>{{log.stdout}}<br/>{{log.stderr}}</div>
                </pre>
            </div>
            <div class="modal-footer">
                <button (click)="hideModal()" type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>